<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>버추얼 테이블 프로젝트 - 통합 운영 가이드</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
            background-color: #f0f2f5; /* Production Slate Light */
            color: #1e293b; /* Production Slate Dark */
            scroll-padding-top: 80px; /* Offset for sticky header */
        }
        .section-title {
            font-weight: 900;
            color: #047857; /* Emerald-700 for main titles */
        }
        .step-card {
            background-color: white;
            border: 1px solid #e2e8f0;
            border-radius: 0.75rem;
            padding: 2rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            display: flex;
            flex-direction: column;
            transition: all 0.3s ease-in-out;
        }
        .role-card, .content-card {
             cursor: pointer;
        }
        .nav-link {
            transition: color 0.3s;
        }
        .nav-link:hover {
            color: #4f46e5;
        }
        
        /* Interactive Workflow Popup Styles */
        .workflow-popup {
            position: absolute; top: calc(100% + 0.75rem); left: 0;
            visibility: hidden; opacity: 0;
            transition: opacity 0.3s ease-in-out, visibility 0.3s ease-in-out, transform 0.3s ease-in-out;
            transform: translateY(-10px) scale(0.95);
            transform-origin: top center; z-index: 20;
            background-color: white; border: 1px solid #d1d5db;
            border-radius: 0.5rem; box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
            padding: 1rem; width: max-content; max-width: 90vw; pointer-events: none;
        }
        .group:hover .workflow-popup { visibility: visible; opacity: 1; transform: translateY(0) scale(1); }
        .group:hover .role-card { transform: translateY(-8px); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); border-color: #4f46e5; }
        .flow-step {
            background-color: #f1f5f9; border: 1px solid #e2e8f0; border-radius: 0.5rem;
            padding: 0.5rem 0.75rem; font-size: 0.8rem; font-weight: 500;
            text-align: center; flex-shrink: 0; white-space: nowrap;
        }
        .flow-arrow { color: #94a3b8; flex-shrink: 0; }
        
        /* Modal Styles */
        .modal-overlay {
            position: fixed; top: 0; left: 0; right: 0; bottom: 0;
            background-color: rgba(0, 0, 0, 0.6); display: flex;
            justify-content: center; z-index: 50;
            opacity: 0; visibility: hidden;
            transition: opacity 0.3s ease, visibility 0.3s ease;
            overflow-y: auto; align-items: flex-start; padding: 5vh 1rem;
        }
        .modal-overlay.active { opacity: 1; visibility: visible; }
        .modal-content {
            background-color: white; padding: 2.5rem; border-radius: 0.75rem;
            width: 90%; max-width: 800px; /* Increased width for new content */
            position: relative;
            transform: scale(0.95); transition: transform 0.3s ease; margin: 0;
        }
        .modal-content-lg {
             max-width: 1280px;
             height: 90vh;
             padding: 1rem;
        }
        .modal-overlay.active .modal-content { transform: scale(1); }
        .modal-close-btn { position: absolute; top: 1rem; right: 1rem; cursor: pointer; color: #6b7280; z-index: 60;}
        
        /* Visual Workflow Styles in Modal */
        .detail-step { position: relative; padding-left: 3rem; padding-bottom: 2.5rem; }
        .detail-step:last-child { padding-bottom: 0; }
        .detail-step-icon {
            position: absolute; left: 0; top: 0; width: 2.25rem; height: 2.25rem;
            display: flex; align-items: center; justify-content: center;
            background-color: #ECFDF5; color: #059669;
            border-radius: 9999px; border: 4px solid #BBF7D0;
        }
        .detail-step-connector { position: absolute; left: 1.05rem; top: 2.25rem; bottom: -2.5rem; width: 2px; background-color: #e2e8f0; }
        .detail-step:last-child .detail-step-connector { display: none; }
        .detail-step-content strong { font-size: 1.125rem; font-weight: 700; color: #065f46; display: block; margin-bottom: 0.25rem; }
        .detail-step-content p, .detail-step-content ul { font-size: 0.95rem; color: #475569; }
        .sub-step-card { background-color: #f8fafc; border: 1px solid #e2e8f0; border-radius: 0.5rem; padding: 1rem; margin-top: 0.75rem; }
        
        /* Protocol Flowchart Styles */
        .flow-box {
            border: 2px solid #cbd5e1; background-color: white; padding: 1rem; border-radius: 0.5rem; text-align: center;
            transition: all 0.3s ease; box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
            height: 100%;
        }
        .flow-box:hover { transform: translateY(-5px); box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1); border-color: #4f46e5; }
        .flow-arrow-lg { color: #64748b; font-size: 2rem; line-height: 1; }
        
        .video-wrapper { position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden; max-width: 100%; background: #000; margin-bottom: 1rem; border-radius: 0.5rem;}
        .video-wrapper iframe { position: absolute; top: 0; left: 0; width: 100%; height: 100%; }
        
        /* Styles for Communication Guide */
        .signal-card {
            background-color: white;
            border-radius: 0.75rem;
            box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
            padding: 1.5rem;
            display: flex;
            align-items: center;
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
            border: 1px solid #e2e8f0; /* slate-200 */
        }
        .signal-card.centered {
            flex-direction: column;
            text-align: center;
        }
        .signal-card.emoji-layout {
            flex-direction: row;
            text-align: left;
            gap: 1.25rem;
        }
        .signal-icon-container {
            width: 80px;
            height: 80px;
            flex-shrink: 0;
            display: flex;
            align-items: center;
            justify-content: center;
            background-color: #eef2ff; /* indigo-50 */
            border-radius: 9999px;
            border: 2px solid #c7d2fe; /* indigo-200 */
        }
        .centered .signal-icon-container {
             margin-bottom: 1rem;
        }
        .emoji-icon {
            font-size: 3rem;
            line-height: 1;
            flex-shrink: 0;
        }
    </style>
</head>
<body class="antialiased">

    <header class="bg-white shadow-md sticky top-0 z-10">
        <nav class="container mx-auto px-6 py-4 flex justify-between items-center">
            <h1 class="text-2xl font-bold text-gray-900">'버추얼 테이블' 대시보드</h1>
            <div class="hidden md:flex space-x-8">
                <a href="#roles" class="text-gray-600 font-medium nav-link">역할 및 책임</a>
                <a href="#protocol" class="text-gray-600 font-medium nav-link">후반 프로토콜</a>
                <a href="tournament_strategy.html" class="text-gray-600 font-medium nav-link">촬영 전략</a>
                <a href="#equipment" class="text-gray-600 font-medium nav-link">장비 부록</a>
            </div>
        </nav>
    </header>

    <div class="max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8 py-12 md:py-16">
        <header class="flex flex-col md:flex-row items-center justify-between mb-16">
            <div class="text-center md:text-left">
                <h1 class="text-4xl md:text-5xl font-black text-slate-800">버추얼 테이블 프로젝트</h1>
                <p class="mt-4 text-lg text-slate-600">인터랙티브 현장 운영 가이드라인</p>
            </div>
            <div class="flex flex-wrap justify-center gap-4 mt-6 md:mt-0">
                <button id="open-overview-modal" class="inline-flex items-center justify-center bg-indigo-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-indigo-700 transition-colors duration-300 break-keep">
                    <i data-lucide="book-open" class="w-5 h-5 mr-2"></i>
                    프로젝트 개요
                </button>
                <button id="open-slides-modal" class="inline-flex items-center justify-center bg-purple-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-purple-700 transition-colors duration-300 break-keep">
                    <i data-lucide="presentation" class="w-5 h-5 mr-2"></i>
                    워크 프로세스
                </button>
                <a href="https://garimto81.github.io/virtual_table_flow/" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center bg-sky-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-sky-700 transition-colors duration-300 break-keep">
                    <i data-lucide="map" class="w-5 h-5 mr-2"></i>
                    촬영 전략 맵 보기
                </a>
                <a href="https://garimto81.github.io/virtual_table_rehearsal" target="_blank" rel="noopener noreferrer" class="inline-flex items-center justify-center bg-emerald-600 text-white font-bold py-3 px-6 rounded-lg shadow-md hover:bg-emerald-700 transition-colors duration-300 break-keep">
                    <i data-lucide="clipboard-check" class="w-5 h-5 mr-2"></i>
                    리허설 결과 보기
                </a>
            </div>
        </header>

        <main class="space-y-20">
            <!-- Section 1: Roles & Responsibilities -->
            <section id="roles">
                <h2 class="section-title text-3xl text-center mb-4">주요 역할 및 책임 (R&R)</h2>
                <p class="text-center text-slate-600 mb-10">각 역할별 카드를 클릭하면 상세 워크플로우와 인원 편제를 보여줌</p>
                <!-- R&R Grid Content -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                     <div class="group relative" data-role="director"><div class="step-card role-card text-center h-full"><div class="flex-grow"><i data-lucide="video" class="w-12 h-12 text-emerald-600 mx-auto mb-4"></i><h3 class="text-xl font-bold mb-2">디렉터</h3><p class="text-sm text-slate-600">방송 콘텐츠의 방향성을 결정하고 촬영할 키 플레이어를 최종 선정합니다.</p></div><div class="mt-4 pt-4 border-t border-slate-200"><div class="flex items-center justify-center gap-2"><i data-lucide="user-circle-2" class="w-4 h-4 text-slate-400"></i><h4 class="text-xs font-bold text-slate-500 uppercase">담당자</h4></div><p class="font-semibold text-indigo-600 mt-2">David</p></div></div><div class="workflow-popup"><h4 class="font-bold text-center mb-3 text-sm">디렉터 워크플로우</h4><div class="flex items-center justify-center space-x-2"><div class="flow-step">연출 기획</div><i data-lucide="arrow-right" class="flow-arrow w-5 h-5"></i><div class="flow-step">데이터 확보</div><i data-lucide="arrow-right" class="flow-arrow w-5 h-5"></i><div class="flow-step">대상 선정</div><i data-lucide="arrow-right" class="flow-arrow w-5 h-5"></i><div class="flow-step text-emerald-700 bg-emerald-50 border-emerald-200">PD에게 전달</div></div></div></div>
                    <div class="group relative" data-role="pd"><div class="step-card role-card text-center h-full"><div class="flex-grow"><i data-lucide="camera" class="w-12 h-12 text-emerald-600 mx-auto mb-4"></i><h3 class="text-xl font-bold mb-2">카메라 맨</h3><p class="text-sm text-slate-600">현장에서 콘텐츠 가치를 판단하여 중요한 순간만을 선별하여 촬영합니다.</p></div><div class="mt-4 pt-4 border-t border-slate-200"><div class="flex items-center justify-center gap-2"><i data-lucide="users-2" class="w-4 h-4 text-slate-400"></i><h4 class="text-xs font-bold text-slate-500 uppercase">담당자</h4></div><div class="text-center text-sm space-y-1 mt-2"><p><span class="font-semibold text-indigo-600">Cam1 / PD:</span> Leo</p><p><span class="font-semibold text-indigo-600">Cam2:</span> Aiden</p></div></div></div><div class="workflow-popup"><h4 class="font-bold text-center mb-3 text-sm">카메라 맨 워크플로우</h4><div class="flex items-center"><div class="flow-step">현장 촬영</div><i data-lucide="arrow-right" class="flow-arrow w-5 h-5 mx-2"></i><div class="flex flex-col space-y-2"><div class="flex items-center"><div class="flow-step">촬영 데이터</div><i data-lucide="arrow-right" class="flow-arrow w-4 h-4 mx-2"></i><div class="flex flex-col space-y-1"><div class="flow-step bg-sky-100 border-sky-300 text-sky-800 text-xs">무선/클라우드</div><div class="flow-step bg-yellow-100 border-yellow-300 text-yellow-800 text-xs">유선/SD카드</div></div><i data-lucide="arrow-right" class="flow-arrow w-4 h-4 mx-2"></i><div class="flow-step text-emerald-700 bg-emerald-50 border-emerald-200">후반팀</div></div><div class="flex items-center"><div class="flow-step">인/아웃점 가이드</div><i data-lucide="arrow-right" class="flow-arrow w-4 h-4 mx-2"></i><div class="flow-step text-sky-700 bg-sky-50 border-sky-200">데이터 매니저</div></div></div></div></div></div>
                    <div class="group relative" data-role="manager"><div class="step-card role-card text-center h-full"><div class="flex-grow"><i data-lucide="database" class="w-12 h-12 text-emerald-600 mx-auto mb-4"></i><h3 class="text-xl font-bold mb-2">데이터 매니저</h3><p class="text-sm text-slate-600">촬영된 영상의 모든 액션을 정확하게 기록하고 데이터를 관리, 검증합니다.</p></div><div class="mt-4 pt-4 border-t border-slate-200"><div class="flex items-center justify-center gap-2"><i data-lucide="user-circle-2" class="w-4 h-4 text-slate-400"></i><h4 class="text-xs font-bold text-slate-500 uppercase">담당자</h4></div><p class="font-semibold text-indigo-600 mt-2">Henry</p></div></div><div class="workflow-popup"><h4 class="font-bold text-center mb-3 text-sm">데이터 매니저 워크플로우</h4><div class="flex flex-col items-center space-y-2"><div class="flow-step">데이터 생성(App)</div><i data-lucide="arrow-down" class="flow-arrow w-4 h-4"></i><div class="flow-step">구글 시트에 통합 기록</div><i data-lucide="arrow-down" class="flow-arrow w-4 h-4"></i><div class="flow-step text-emerald-700 bg-emerald-50 border-emerald-200">후반팀에 공유</div></div></div></div>
                    <div class="group relative" data-role="editor"><div class="step-card role-card text-center h-full"><div class="flex-grow"><i data-lucide="scissors" class="w-12 h-12 text-emerald-600 mx-auto mb-4"></i><h3 class="text-xl font-bold mb-2">후반 편집자</h3><p class="text-sm text-slate-600">영상과 데이터를 취합하여 Poker UI 그래픽을 완성하고 최종 콘텐츠를 제작합니다.</p></div><div class="mt-4 pt-4 border-t border-slate-200"><div class="flex items-center justify-center gap-2"><i data-lucide="user-circle-2" class="w-4 h-4 text-slate-400"></i><h4 class="text-xs font-bold text-slate-500 uppercase">담당자</h4></div><p class="font-semibold text-indigo-600 mt-2">Aiden</p></div></div><div class="workflow-popup"><h4 class="font-bold text-center mb-3 text-sm">후반 편집 워크플로우</h4><div class="flex flex-col items-center space-y-2"><div class="text-center"><div class="text-xs font-bold text-slate-500 mb-1">프리 프로덕션</div><div class="flow-step">그래픽 수령</div></div><div class="w-full my-1 border-t-2 border-dashed border-slate-300"></div><div class="text-center"><div class="text-xs font-bold text-slate-500 mb-1">프로덕션</div><div class="flow-step">데이터 수령</div></div><i data-lucide="arrow-down" class="flow-arrow w-4 h-4"></i><div class="flow-step">데이터 검증</div><i data-lucide="arrow-down" class="flow-arrow w-4 h-4"></i><div class="flow-step">GFX 작업</div><i data-lucide="arrow-down" class="flow-arrow w-4 h-4"></i><div class="flow-step">영상과 결합</div><i data-lucide="arrow-down" class="flow-arrow w-4 h-4"></i><div class="flow-step">최종 편집</div><i data-lucide="arrow-down" class="flow-arrow w-4 h-4"></i><div class="flow-step text-emerald-700 bg-emerald-50 border-emerald-200">콘텐츠 완성</div></div></div></div>
                </div>
                 <div class="mt-16"><h3 class="text-2xl font-bold text-slate-700 text-center mb-8">지원 역할 (Support Roles)</h3><div class="grid grid-cols-1 md:grid-cols-2 gap-8 max-w-4xl mx-auto"><div class="group relative" data-role="designer"><div class="step-card role-card text-center h-full"><div class="flex-grow"><i data-lucide="figma" class="w-12 h-12 text-emerald-600 mx-auto mb-4"></i><h3 class="text-xl font-bold mb-2">그래픽 디자이너</h3><p class="text-sm text-slate-600">콘텐츠에 사용될 Poker UI 그래픽 에셋을 제작하고 시스템을 설계합니다.</p></div><div class="mt-4 pt-4 border-t border-slate-200"><div class="flex items-center justify-center gap-2"><i data-lucide="users-2" class="w-4 h-4 text-slate-400"></i><h4 class="text-xs font-bold text-slate-500 uppercase">담당자</h4></div><p class="font-semibold text-indigo-600 mt-2">편집팀</p></div></div><div class="workflow-popup"><h4 class="font-bold text-center mb-3 text-sm">그래픽 디자이너 워크플로우</h4><div class="flex items-center justify-center space-x-2"><div class="flow-step">Poker UI 그래픽 작업</div><i data-lucide="arrow-right" class="flow-arrow w-5 h-5"></i><div class="flow-step text-emerald-700 bg-emerald-50 border-emerald-200">후반 편집자 전달</div></div></div></div><div class="group relative" data-role="tech"><div class="step-card role-card text-center h-full"><div class="flex-grow"><i data-lucide="server" class="w-12 h-12 text-emerald-600 mx-auto mb-4"></i><h3 class="text-xl font-bold mb-2">기술 감독</h3><p class="text-sm text-slate-600">원활한 데이터 전송을 위한 현장 네트워크 환경을 구축하고 지원합니다.</p></div><div class="mt-4 pt-4 border-t border-slate-200"><div class="flex items-center justify-center gap-2"><i data-lucide="user-circle-2" class="w-4 h-4 text-slate-400"></i><h4 class="text-xs font-bold text-slate-500 uppercase">담당자</h4></div><p class="font-semibold text-indigo-600 mt-2">Dean</p></div></div><div class="workflow-popup"><h4 class="font-bold text-center mb-3 text-sm">기술 감독 워크플로우</h4><div class="flex items-center justify-center space-x-2"><div class="flow-step">10Mbps+ 전용 라인 확보</div><i data-lucide="arrow-right" class="flow-arrow w-5 h-5"></i><div class="flow-step text-emerald-700 bg-emerald-50 border-emerald-200">현장팀에 공유</div></div></div></div></div></div>
            </section>
            
            <!-- Section 2: Post-Production Protocol -->
            <section id="protocol">
                <h2 class="section-title text-3xl text-center mb-12">후반 제작 운영 프로토콜</h2>
                <!-- Content Types -->
                <div class="mb-20">
                    <h3 class="text-3xl font-bold text-center mb-10 text-gray-900">3.1. 핵심 콘텐츠 리스트</h3>
                    <div class="grid md:grid-cols-3 gap-8">
                        <div data-content-type="big-hand" class="content-card bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col">
                            <div class="flex items-center mb-4"><span class="text-3xl mr-4">🔥</span><h4 class="text-xl font-bold text-gray-900">빅 핸드 리뷰</h4></div>
                            <div class="flex-grow">
                                <p class="text-gray-600 mb-2"><strong>내용:</strong> 선수의 토너먼트 운명에 결정적 영향을 미치는 핸드 (All-in, 역전, 블러프 캐치 등)</p>
                                <p class="text-gray-600"><strong>특징:</strong> 홀 카드, 승률, 팟 사이즈 등 모든 GFX를 포함하여 상세히 분석합니다.</p>
                            </div>
                            <div class="mt-4 pt-4 border-t border-gray-200">
                                <h5 class="text-sm font-bold text-gray-500 mb-2 text-center">카메라 구성</h5>
                                <div class="flex items-center justify-center space-x-4">
                                    <div class="flex items-center space-x-1 p-2 bg-slate-100 rounded-md">
                                        <i data-lucide="camera" class="w-5 h-5 text-indigo-600"></i>
                                        <span class="font-semibold text-indigo-800">x 1</span>
                                    </div>
                                    <span class="text-gray-400 font-bold">OR</span>
                                    <div class="flex items-center space-x-1 p-2 bg-slate-100 rounded-md">
                                        <i data-lucide="camera" class="w-5 h-5 text-indigo-600"></i>
                                        <i data-lucide="camera" class="w-5 h-5 text-indigo-600"></i>
                                        <span class="font-semibold text-indigo-800">x 2</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div data-content-type="update" class="content-card bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col">
                            <div class="flex items-center mb-4"><span class="text-3xl mr-4">🔄</span><h4 class="text-xl font-bold text-gray-900">플레이어 업데이트</h4></div>
                            <div class="flex-grow">
                                <p class="text-gray-600 mb-2"><strong>내용:</strong> 빅 핸드는 아니지만, 선수의 현재 상황을 알려주기에 충분한 의미를 가진 단일 핸드.</p>
                                <p class="text-gray-600"><strong>특징:</strong> 선수의 스토리가 끊기지 않도록 일정 시간마다 제공하는 환기 역할을 합니다.</p>
                            </div>
                             <div class="mt-4 pt-4 border-t border-gray-200">
                                <h5 class="text-sm font-bold text-gray-500 mb-2 text-center">카메라 구성</h5>
                                <div class="flex items-center justify-center space-x-2">
                                     <div class="flex items-center space-x-1 p-2 bg-slate-100 rounded-md">
                                        <i data-lucide="camera" class="w-5 h-5 text-indigo-600"></i>
                                        <span class="font-semibold text-indigo-800">x 1</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div data-content-type="elimination" class="content-card bg-white p-6 rounded-lg shadow-lg hover:shadow-xl transition-shadow duration-300 flex flex-col">
                            <div class="flex items-center mb-4"><span class="text-3xl mr-4">👋</span><h4 class="text-xl font-bold text-gray-900">플레이어 탈락</h4></div>
                            <div class="flex-grow">
                                <p class="text-gray-600 mb-2"><strong>내용:</strong> 키 플레이어가 토너먼트에서 탈락하는 마지막 핸드.</p>
                                <p class="text-gray-600"><strong>특징:</strong> 발생 시 최우선으로 다루어야 하는 가장 중요한 이벤트입니다.</p>
                            </div>
                             <div class="mt-4 pt-4 border-t border-gray-200">
                                <h5 class="text-sm font-bold text-gray-500 mb-2 text-center">카메라 구성</h5>
                                <div class="flex items-center justify-center space-x-2">
                                     <div class="flex items-center space-x-1 p-2 bg-slate-100 rounded-md">
                                        <i data-lucide="camera" class="w-5 h-5 text-indigo-600"></i>
                                        <span class="font-semibold text-indigo-800">x 1</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Decision Flowchart -->
                <div class="mb-20">
                    <h3 class="text-3xl font-bold text-center mb-10 text-gray-900">3.2. 의사결정 플로우</h3>
                    <p class="max-w-3xl mx-auto text-center text-lg text-gray-600 mb-12">촬영된 영상은 후반팀으로 전달되며, 아래 플로우는 <strong>촬영본을 방송용 콘텐츠로 제작할지, 또는 가치가 낮아 폐기할지를 판단</strong>하는 기준입니다.</p>
                    <div class="flex flex-col items-center space-y-4">
                        <div class="flow-box w-full md:w-1/2" title="촬영팀으로부터 핸드 촬영본을 접수하는 것이 모든 판단의 시작점입니다.">
                            <p class="font-bold">키 플레이어(Key Player)의 핸드 촬영본 접수</p>
                        </div>
                        <div class="flow-arrow-lg">▼</div>
                        <div class="flow-box w-full md:w-2/3" title="가장 먼저 확인할 핵심 기준입니다.">
                            <p class="font-bold text-lg text-indigo-700">Q. 해당 선수의 콘텐츠가 마지막으로 방송된 후 얼마나 지났는가?</p>
                        </div>
                        <div class="w-full mt-4">
                            <div class="grid md:grid-cols-2 gap-8 items-start">
                                <!-- Path 1: Mandatory Update -->
                                <div class="flex flex-col items-center text-center space-y-4 p-4 rounded-lg bg-gray-50 border border-dashed h-full">
                                    <div class="font-bold text-gray-700">경과 시간: 1시간 이상</div>
                                    <div class="flow-arrow-lg">▼</div>
                                    <div class="flow-box w-full" title="시청자의 궁금증 해소가 최우선인 상황입니다. 콘텐츠가 없는 경우 의무적으로 제작합니다.">
                                        <p class="font-bold text-blue-600">판단: 의무 업데이트 필요</p>
                                        <p class="text-sm text-gray-500 mt-1">선수의 생존 여부와 근황을 알려줘야 합니다.</p>
                                    </div>
                                    <div class="flow-arrow-lg">▼</div>
                                    <div class="flow-box w-full bg-blue-50 border-blue-500" title="간단한 팟 획득 장면만이라도 제공하여 선수의 스토리를 이어갑니다.">
                                        <p class="font-bold">액션: '플레이어 업데이트' 제공</p>
                                        <p class="text-sm text-gray-600 mt-1">(GFX 없이 팟 획득 장면만으로도 가능)</p>
                                    </div>
                                </div>

                                <!-- Path 2: Selective Update -->
                                <div class="flex flex-col items-center text-center space-y-4 p-4 rounded-lg bg-gray-50 border border-dashed h-full">
                                    <div class="font-bold text-gray-700">경과 시간: 1시간 이내</div>
                                    <div class="flow-arrow-lg">▼</div>
                                    <div class="flow-box w-full" title="이미 정보가 제공되었으므로, 더 의미있는 장면을 선별합니다.">
                                        <p class="font-bold text-yellow-600">판단: 선별적 제작 필요</p>
                                        <p class="text-sm text-gray-500 mt-1">Q. 핸드의 중요도는 어느 정도인가?</p>
                                    </div>
                                    <div class="w-full mt-4">
                                         <div class="grid grid-cols-1 sm:grid-cols-3 gap-4 items-start">
                                            <div class="flex flex-col items-center space-y-2">
                                                <div class="font-semibold text-sm">빅 핸드</div>
                                                <div class="flow-arrow-lg">▼</div>
                                                <div class="flow-box w-full text-sm bg-red-50 border-red-500">
                                                    <p class="font-bold">액션:<br>'빅 핸드 리뷰' 제작</p>
                                                </div>
                                            </div>
                                            <div class="flex flex-col items-center space-y-2">
                                                <div class="font-semibold text-sm">의미 있는 핸드</div>
                                                <div class="flow-arrow-lg">▼</div>
                                                <div class="flow-box w-full text-sm bg-yellow-50 border-yellow-500">
                                                    <p class="font-bold">액션:<br>'플레이어 업데이트' 제작</p>
                                                </div>
                                            </div>
                                            <div class="flex flex-col items-center space-y-2">
                                                <div class="font-semibold text-sm">가치 낮은 핸드</div>
                                                <div class="flow-arrow-lg">▼</div>
                                                <div class="flow-box w-full text-sm bg-gray-100 border-gray-400">
                                                    <p class="font-bold">액션:<br>폐기</p>
                                                </div>
                                            </div>
                                         </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <!-- Section 4: Appendix -->
            <section id="equipment">
                 <h2 class="section-title text-3xl text-center mb-12">부록: 추천 장비 및 필수 액세서리</h2>
                 <h3 class="text-xl font-bold text-center text-slate-700 mb-8">필수 액세서리</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6 max-w-4xl mx-auto mb-16">
                    <div class="step-card text-center"><i data-lucide="battery-charging" class="w-10 h-10 mx-auto text-emerald-600 mb-3"></i><h4 class="font-bold">여분 배터리</h4><p class="text-sm text-slate-600">최소 3개 이상</p></div>
                    <div class="step-card text-center"><i data-lucide="power" class="w-10 h-10 mx-auto text-emerald-600 mb-3"></i><h4 class="font-bold">보조 배터리</h4><p class="text-sm text-slate-600">대용량 Power Bank</p></div>
                    <div class="step-card text-center"><i data-lucide="grip" class="w-10 h-10 mx-auto text-emerald-600 mb-3"></i><h4 class="font-bold">거치대</h4><p class="text-sm text-slate-600">소형 삼각대/고릴라포드</p></div>
                </div>
                 <h3 class="text-xl font-bold text-center text-slate-700 mb-8">추천 장비</h3>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6 max-w-5xl mx-auto">
                    <div><img src="https://github.com/garimto81/virtual_table_plan/blob/main/image%20(12).png?raw=true" alt="고프로 카메라" class="w-full aspect-square object-cover rounded-lg shadow-md border border-slate-200" onerror="this.onerror=null;this.src='https://placehold.co/400x400/e2e8f0/64748b?text=GoPro';"><p class="text-center text-sm text-slate-600 mt-2 font-medium">고프로 시리즈</p></div>
                    <div><img src="https://github.com/garimto81/virtual_table_plan/blob/main/7b61f73f9b79143119a859898dae9521@ultra.png?raw=true" alt="DJI 액션 카메라" class="w-full aspect-square object-cover rounded-lg shadow-md border border-slate-200" onerror="this.onerror=null;this.src='https://placehold.co/400x400/e2e8f0/64748b?text=DJI+Action';"><p class="text-center text-sm text-slate-600 mt-2 font-medium">DJI 액션 시리즈</p></div>
                    <div><img src="https://github.com/garimto81/virtual_table_plan/blob/main/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202025-08-26%20181427.png?raw=true" alt="오즈모 포켓 카메라" class="w-full aspect-square object-cover rounded-lg shadow-md border border-slate-200" onerror="this.onerror=null;this.src='https://placehold.co/400x400/e2e8f0/64748b?text=Osmo+Pocket';"><p class="text-center text-sm text-slate-600 mt-2 font-medium">오즈모 포켓 시리즈</p></div>
                </div>
                <div class="max-w-5xl mx-auto mt-6"><div class="bg-yellow-50 border-l-4 border-yellow-400 p-4"><div class="flex"><div class="flex-shrink-0"><i data-lucide="smartphone-off" class="w-5 h-5 text-yellow-500"></i></div><div class="ml-3"><p class="text-sm text-yellow-700"><strong>참고: 아이폰 시리즈 제외 사유</strong><br>2024년 WSOP BAHAMAS 현장에서 플레이어들의 촬영 거부 반응이 있어 추천 장비에서 제외되었습니다.</p></div></div></div></div>
            </section>
        </main>

        <footer class="bg-gray-800 text-white mt-20">
            <div class="container mx-auto px-6 py-4 text-center">
                <p>&copy; 2025 '버추얼 테이블' 프로덕션 대시보드</p>
            </div>
        </footer>
    </div>
    
    <!-- Modal and Hidden Detailed Workflows -->
    <div id="workflow-modal" class="modal-overlay">
        <div class="modal-content">
             <button id="modal-close" class="modal-close-btn"><i data-lucide="x" class="w-6 h-6"></i></button>
            <h3 id="modal-title" class="text-2xl font-bold text-slate-800 mb-6"></h3>
            <div id="modal-body" class="workflow-detail"></div>
        </div>
    </div>
     <div id="video-modal" class="modal-overlay">
        <div class="modal-content">
            <button id="video-modal-close" class="modal-close-btn">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
            <h3 id="video-modal-title" class="text-2xl font-bold text-slate-800 mb-6"></h3>
            <div id="video-modal-body">
                <!-- Video iframes will be injected here -->
            </div>
        </div>
    </div>
    <div id="overview-modal" class="modal-overlay">
        <div class="modal-content">
            <button id="overview-modal-close" class="modal-close-btn"><i data-lucide="x" class="w-6 h-6"></i></button>
            <h3 class="text-2xl font-bold text-slate-800 mb-6">'버추얼 테이블' 프로젝트 개요</h3>
            <div class="workflow-detail">
                <div class="detail-step">
                    <div class="detail-step-icon"><i data-lucide="film"></i></div>
                    <div class="detail-step-connector"></div>
                    <div class="detail-step-content">
                        <strong>후반 제작의 황금기 (2003-2011): '포커 붐' 서사</strong>
                        <p>2003년 '머니메이커 효과'로 시작된 포커 붐 시대의 방송은 단순한 경기 중계를 넘어섰습니다. 제작진은 대회장 곳곳의 테이블에서 벌어지는 유명 선수들의 플레이나 극적인 승부를 촬영하고, 여기에 GFX(그래픽)를 입히는 후반 작업을 통해 한 편의 영화 같은 서사를 만들어냈습니다.</p>
                    </div>
                </div>
                <div class="detail-step">
                    <div class="detail-step-icon"><i data-lucide="zap-off"></i></div>
                    <div class="detail-step-connector"></div>
                    <div class="detail-step-content">
                        <strong>라이브 스트리밍으로의 전환: 서사를 대가로 얻은 즉시성</strong>
                        <p>라이브 스트리밍 기술 발전으로 방송 패러다임은 '잘 짜인 서사'에서 '날것의 즉시성'으로 전환되었습니다. GFX 후반 작업은 라이브 송출에 걸림돌이 되었고, 제작 시간과 비용 문제로 생략되었습니다. 그 결과, 현재 방송은 피처 테이블의 단조로운 플레이에만 의존하게 되었습니다.</p>
                    </div>
                </div>
                <div class="detail-step">
                    <div class="detail-step-icon"><i data-lucide="target"></i></div>
                    <div class="detail-step-content">
                        <strong>시장의 빈틈 발견: 잘 짜인 라이브 액션에 대한 수요</strong>
                        <p>바로 이 지점에서 '버추얼 테이블'은 중요한 시장의 빈틈(Niche Market)을 발견했습니다. 시청자들은 라이브의 즉시성을 원하면서도, 동시에 과거 방송처럼 깊이 있고 흥미로운 콘텐츠에 대한 갈증을 느끼고 있습니다. 본 프로젝트는 이 니치 마켓을 공략하여, RFID와 같은 고비용 장비 없이 소수 인력으로 운영 가능한 비용 최적화 시스템을 통해 포커 방송의 새로운 표준을 제시하고자 합니다.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div id="slides-modal" class="modal-overlay">
        <div class="modal-content modal-content-lg">
            <button id="slides-modal-close" class="modal-close-btn bg-white/50 rounded-full p-1">
                <i data-lucide="x" class="w-6 h-6"></i>
            </button>
            <iframe class="w-full h-full" src="" frameborder="0" allowfullscreen="true" mozallowfullscreen="true" webkitallowfullscreen="true"></iframe>
        </div>
    </div>
    <div class="hidden">
        <div id="detail-director">
             <div class="detail-step"><div class="detail-step-icon"><i data-lucide="clipboard-list"></i></div><div class="detail-step-connector"></div><div class="detail-step-content"><strong>1. 연출 기획</strong><p>콘텐츠의 전반적인 방향성을 결정하고, 촬영할 키 플레이어군을 리스트업합니다.</p></div></div>
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="user-check"></i></div><div class="detail-step-connector"></div><div class="detail-step-content"><strong>2. 최종 대상 선정</strong><p>기획팀으로부터 전달받은 선수 이력과 현장 상황(테이블 위치, 스택 사이즈 등)을 종합하여 최종 촬영 대상을 선정합니다.</p></div></div>
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="send"></i></div><div class="detail-step-content"><strong>3. 현장팀 전달</strong><p>선정된 플레이어 리스트와 주요 관전 포인트를 포함한 촬영 가이드를 현장 PD에게 명확하게 전달합니다.</p></div></div>
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="users"></i></div><div class="detail-step-content"><strong>4. 인원 편제</strong><div class="sub-step-card"><strong>담당자: </strong><span>David</span></div></div></div>
        </div>
        <div id="detail-pd">
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="list-checks"></i></div><div class="detail-step-connector"></div><div class="detail-step-content"><strong>1. 촬영 준비</strong><p>디렉터로부터 전달받은 리스트를 숙지하고, 카메라, 배터리 등 장비를 세팅합니다. 지정된 키 플레이어의 테이블 위치를 파악하고 최적의 촬영 동선을 설계합니다.</p></div></div>
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="video"></i></div><div class="detail-step-connector"></div><div class="detail-step-content"><strong>2. 현장 촬영</strong><ul class="list-disc space-y-2"><li>키 플레이어가 참여하는 핸드, 팟 사이즈가 큰 핸드 등 콘텐츠 가치가 높은 순간을 판단하여 촬영을 진행합니다.</li><li><span class="font-bold text-red-600">중요:</span> 1개의 핸드는 반드시 1개의 레코딩 파일만 존재해야 합니다. 만약 핸드 진행 도중 실수로 레코딩을 종료했다면, 해당 핸드는 추가 레코딩을 진행하지 않습니다.</li></ul></div></div>
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="arrow-right-left"></i></div><div class="detail-step-connector"></div><div class="detail-step-content"><strong>3. 데이터 전달 및 메모리 관리</strong><div class="space-y-4"><div class="sub-step-card"><strong>파일 번호 공유</strong><p>핸드 촬영 종료 후, 카메라에 표시된 파일 번호를 데이터 매니저에게 전달하여 앱에 기록합니다. 파일명은 아래 규칙을 따릅니다.</p><div class="mt-3 pt-3 border-t border-slate-200"><p class="font-semibold text-slate-700 text-sm">카메라 맨 파일 규칙:</p><p class="text-sm mt-1 text-slate-600">cam(카메라 순서 대문자 알파벳)(카메라맨에 귀속된 메모리 카드 순서 소문자 알파벳)일련번호</p><p class="mt-2 text-sm"><strong>예시:</strong> <code class="bg-slate-200 text-slate-800 px-2 py-1 rounded">camAa0001</code>, <code class="bg-slate-200 text-slate-800 px-2 py-1 rounded">camAb0003</code>, <code class="bg-slate-200 text-slate-800 px-2 py-1 rounded">camBa0011</code></p></div></div><div class="sub-step-card"><strong>메모리 카드 교체 (분기)</strong><ul class="list-disc space-y-4 mt-2"><li><strong>Case 1. 후반 편집자가 현장에 있는 경우:</strong><div class="mt-4 p-4 bg-slate-50 rounded-lg border border-slate-200"><h4 class="font-bold text-center mb-4 text-slate-800">메모리 카드 순환 워크플로우</h4><div class="relative w-full h-72"><!-- Roles --><div class="absolute top-0 left-1/2 -translate-x-1/2 text-center"><i data-lucide="camera" class="w-10 h-10 text-slate-700 mx-auto"></i><p class="font-bold text-sm mt-1">카메라 맨</p></div><div class="absolute bottom-0 left-1/2 -translate-x-1/2 text-center"><i data-lucide="monitor" class="w-10 h-10 text-slate-700 mx-auto"></i><p class="font-bold text-sm mt-1">후반팀</p></div><!-- Bins --><div class="absolute top-1/2 -translate-y-1/2 left-0 text-center"><div class="relative w-28 h-24 border-2 border-dashed border-green-500 bg-green-50 rounded-lg flex flex-col items-center justify-center"><i data-lucide="sd-card" class="w-8 h-8 text-green-600"></i><p class="text-sm mt-1 font-semibold text-green-800">작업 완료 통</p></div></div><div class="absolute top-1/2 -translate-y-1/2 right-0 text-center"><div class="relative w-28 h-24 border-2 border-dashed border-sky-500 bg-sky-50 rounded-lg flex flex-col items-center justify-center"><i data-lucide="sd-card" class="w-8 h-8 text-sky-600"></i><p class="text-sm mt-1 font-semibold text-sky-800">미작업 통</p></div></div><!-- Arrows & Labels --><div class="absolute top-[20%] left-[25%] -translate-x-1/2 -translate-y-1/2 text-center"><p class="text-xs font-semibold text-slate-500 mb-1">① 수령</p><i data-lucide="arrow-up-right" class="w-8 h-8 text-slate-400"></i></div><div class="absolute top-[20%] right-[25%] translate-x-1/2 -translate-y-1/2 text-center"><p class="text-xs font-semibold text-slate-500 mb-1">② 반납</p><i data-lucide="arrow-down-right" class="w-8 h-8 text-slate-400"></i></div><div class="absolute bottom-[20%] right-[25%] translate-x-1/2 translate-y-1/2 text-center"><i data-lucide="arrow-down-left" class="w-8 h-8 text-slate-400"></i><p class="text-xs font-semibold text-slate-500 mt-1">③ 처리</p></div><div class="absolute bottom-[20%] left-[25%] -translate-x-1/2 translate-y-1/2 text-center"><i data-lucide="arrow-up-left" class="w-8 h-8 text-slate-400"></i><p class="text-xs font-semibold text-slate-500 mt-1">④ 보충</p></div></div></div></li><li><strong>Case 2. 후반 편집자가 본사에 있는 경우:</strong><div class="mt-4 p-4 bg-slate-50 rounded-lg border border-slate-200"><h4 class="font-bold text-center mb-6 text-slate-800">선형 상호작용 다이어그램</h4><div class="flex items-center justify-center w-full py-4"><!-- Actor 1: Cameraman --><div class="flex flex-col items-center text-center w-28"><i data-lucide="camera" class="w-10 h-10 text-slate-700"></i><p class="font-bold text-sm mt-1">카메라 맨</p></div><!-- Interaction 1 --><div class="flex-1 flex flex-col items-center text-center px-2"><p class="text-xs font-semibold text-slate-500 -mb-1 whitespace-nowrap">① 카드 전달</p><i data-lucide="arrow-right" class="w-8 h-8 text-slate-400"></i><i data-lucide="arrow-left" class="w-8 h-8 text-slate-400 mt-2"></i><p class="text-xs font-semibold text-slate-500 -mt-1 whitespace-nowrap">④ 카드 반환</p></div><!-- Actor 2: Data Manager --><div class="flex flex-col items-center text-center w-28"><i data-lucide="user" class="w-10 h-10 text-slate-700"></i><p class="font-bold text-sm mt-1">데이터 매니저</p></div><!-- Interaction 2 --><div class="flex-1 flex flex-col items-center text-center px-2"><p class="text-xs font-semibold text-slate-500 -mb-1 whitespace-nowrap">② 데이터 전송</p><i data-lucide="arrow-right" class="w-8 h-8 text-slate-400"></i><i data-lucide="arrow-left" class="w-8 h-8 text-slate-400 mt-2"></i><p class="text-xs font-semibold text-slate-500 -mt-1 whitespace-nowrap">③ 작업 후 복귀</p></div><!-- Actor 3: Data Station --><div class="flex flex-col items-center text-center w-28"><i data-lucide="laptop" class="w-10 h-10 text-slate-700"></i><p class="font-bold text-sm mt-1">데이터 스테이션</p></div></div></div></li></ul></div></div></div></div>
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="users"></i></div><div class="detail-step-connector"></div><div class="detail-step-content"><strong>4. 인원 편제 시나리오</strong><div class="sub-step-card"><p><span class="font-semibold text-slate-700">Cam1 / PD:</span> Leo</p></div><div class="sub-step-card"><p><span class="font-semibold text-slate-700">Cam2:</span> Aiden</p></div></div></div>
            
            <div class="mt-8 pt-8 border-t-2 border-dashed">
                <div class="detail-step">
                    <div class="detail-step-icon"><i data-lucide="hand-metal"></i></div>
                    <div class="detail-step-content">
                        <strong>5. 비언어적 소통 가이드</strong>
                        <p class="mb-8">현장에서의 소음 문제를 해결하고 신속한 의사결정을 돕기 위한 비언어적 소통 프로토콜입니다. 모든 카메라 오퍼레이터는 아래 신호 체계를 숙지해야 합니다.</p>
                        
                        <div id="principles" class="mb-12">
                            <h3 class="text-xl font-bold mb-4 text-slate-800">핵심 운영 원칙</h3>
                            <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
                                <div class="p-4 bg-white rounded-lg shadow-sm border flex items-center space-x-3"><div class="flex-shrink-0 bg-emerald-100 p-2 rounded-full"><i data-lucide="zap-off" class="w-5 h-5 text-emerald-700"></i></div><div><h4 class="font-bold text-md">은밀성</h4><p class="text-xs text-slate-600">조용하고 간결하게 소통</p></div></div>
                                <div class="p-4 bg-white rounded-lg shadow-sm border flex items-center space-x-3"><div class="flex-shrink-0 bg-sky-100 p-2 rounded-full"><i data-lucide="eye" class="w-5 h-5 text-sky-700"></i></div><div><h4 class="font-bold text-md">명확성</h4><p class="text-xs text-slate-600">오해 없이 명확한 신호 사용</p></div></div>
                                <div class="p-4 bg-white rounded-lg shadow-sm border flex items-center space-x-3"><div class="flex-shrink-0 bg-amber-100 p-2 rounded-full"><i data-lucide="rocket" class="w-5 h-5 text-amber-700"></i></div><div><h4 class="font-bold text-md">효율성</h4><p class="text-xs text-slate-600">최소 동작으로 신속히 교환</p></div></div>
                            </div>
                        </div>

                        <div id="positioning" class="mb-12">
                            <h3 class="text-xl font-bold mb-4 text-slate-800">카메라 배치 및 프레임 관리</h3>
                            <p class="text-slate-600 mb-6 text-sm">두 오퍼레이터는 테이블을 중심으로 <strong>서로 대칭</strong>되게 위치하는 것을 원칙으로 합니다. 촬영 전 항상 상대방이 자신의 프레임에 노출되는지 확인하고 아래 신호로 위치를 조정하세요.</p>
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                                <div class="signal-card emoji-layout"><div class="emoji-icon">🤚➡️</div><div class="flex-grow"><h4 class="text-lg font-bold mb-1">비켜줘 (Move)</h4><p class="text-slate-500 font-medium text-sm mb-2">상황: 상대방이 내 앵글에 노출됨</p><p class="text-slate-600 text-sm">손바닥을 펴서 밀어내는 동작으로 위치 조정을 요청합니다.</p></div></div>
                                <div class="signal-card emoji-layout"><div class="emoji-icon">👌✅</div><div class="flex-grow"><h4 class="text-lg font-bold mb-1">클리어 (Clear)</h4><p class="text-slate-500 font-medium text-sm mb-2">상황: 상대방이 앵글에서 벗어남</p><p class="text-slate-600 text-sm">'OK' 모양을 만들어 프레임이 깨끗함을 확인시켜 줍니다.</p></div></div>
                            </div>
                        </div>
                        
                        <div id="communication" class="mb-12">
                            <h3 class="text-xl font-bold mb-4 text-slate-800">단계별 소통 프로토콜</h3>
                            <div class="mb-8"><h4 class="text-lg font-semibold mb-4 text-slate-700">음성 신호 (촬영 전)</h4>
                                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                                    <div class="signal-card centered"><div class="signal-icon-container"><i data-lucide="list-video" class="w-10 h-10 text-indigo-600"></i></div><h4 class="text-lg font-bold mb-1">"Table Three."</h4><p class="text-slate-500 font-medium text-sm mb-2">신호: 대상 지정</p><p class="text-slate-600 text-sm">촬영할 테이블 번호를 명확히 공유합니다.</p></div>
                                    <div class="signal-card centered"><div class="signal-icon-container"><i data-lucide="bell-ring" class="w-10 h-10 text-indigo-600"></i></div><h4 class="text-lg font-bold mb-1">"Ready."</h4><p class="text-slate-500 font-medium text-sm mb-2">신호: 필요 신호</p><p class="text-slate-600 text-sm">중요 핸드 시작을 알리고 준비를 유도합니다.</p></div>
                                    <div class="signal-card centered"><div class="signal-icon-container"><i data-lucide="user-check" class="w-10 h-10 text-indigo-600"></i></div><h4 class="text-lg font-bold mb-1">(고개 끄덕이기)</h4><p class="text-slate-500 font-medium text-sm mb-2">신호: 준비 확인</p><p class="text-slate-600 text-sm">상대방 신호에 대한 준비 완료 응답입니다.</p></div>
                                </div>
                            </div>
                            <div><h4 class="text-lg font-semibold mb-4 text-slate-700">수신호 (촬영 중/직후)</h4>
                                <div class="grid grid-cols-2 md:grid-cols-4 gap-4">
                                    <div class="signal-card centered p-4">
                                        <div class="emoji-icon text-4xl mb-2">👌</div>
                                        <div>
                                            <h4 class="text-sm font-bold mb-1">롤링 (Rolling)</h4>
                                            <p class="text-slate-500 text-xs font-medium">수신호: 손가락 'O'</p>
                                        </div>
                                    </div>
                                    <div class="signal-card centered p-4">
                                        <div class="emoji-icon text-4xl mb-2">☝️</div>
                                        <div>
                                            <h4 class="text-sm font-bold mb-1">1캠 완료</h4>
                                            <p class="text-slate-500 text-xs font-medium">수신호: 손가락 1개</p>
                                        </div>
                                    </div>
                                    <div class="signal-card centered p-4">
                                        <div class="emoji-icon text-4xl mb-2">✌️</div>
                                        <div>
                                            <h4 class="text-sm font-bold mb-1">2캠 완료</h4>
                                            <p class="text-slate-500 text-xs font-medium">수신호: 손가락 2개</p>
                                        </div>
                                    </div>
                                    <div class="signal-card centered p-4">
                                        <div class="emoji-icon text-4xl mb-2">👋❌</div>
                                        <div>
                                            <h4 class="text-sm font-bold mb-1">촬영 실패 (Miss)</h4>
                                            <p class="text-slate-500 text-xs font-medium">수신호: 손 흔들기</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div id="additional-signals">
                            <h3 class="text-xl font-bold mb-4 text-slate-800">추가 제안 신호 (상황별)</h3>
                            <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6">
                                <div class="signal-card centered">
                                    <div class="signal-icon-container">
                                        <span class="text-4xl">🔋👎</span>
                                    </div>
                                    <h4 class="text-lg font-bold mb-1">배터리 경고</h4>
                                    <p class="text-slate-500 font-medium text-sm mb-2">수신호: 주먹 쥐었다 펴기</p>
                                    <p class="text-slate-600 text-sm">배터리 부족이 임박했음을 알립니다.</p>
                                </div>
                                <div class="signal-card centered">
                                    <div class="signal-icon-container"><i data-lucide="hard-drive" class="w-10 h-10 text-rose-500"></i></div>
                                    <h4 class="text-lg font-bold mb-1">메모리 풀 <span class="text-xl ml-1">💾🚫</span></h4>
                                    <p class="text-slate-500 font-medium text-sm mb-2">수신호: 머리 위 X자</p>
                                    <p class="text-slate-600 text-sm">메모리 카드 교체가 필요함을 알립니다.</p>
                                </div>
                                <div class="signal-card centered">
                                    <div class="signal-icon-container"><i data-lucide="focus" class="w-10 h-10 text-sky-500"></i></div>
                                    <h4 class="text-lg font-bold mb-1">포커스 문제 <span class="text-xl ml-1">👁️🔄</span></h4>
                                    <p class="text-slate-500 font-medium text-sm mb-2">수신호: 눈 앞 원 그리기</p>
                                    <p class="text-slate-600 text-sm">포커스 조정이 필요함을 전달합니다.</p>
                                </div>
                                <div class="signal-card centered">
                                    <div class="signal-icon-container"><i data-lucide="move-3d" class="w-10 h-10 text-teal-500"></i></div>
                                    <h4 class="text-lg font-bold mb-1">위치 변경 <span class="text-xl ml-1">🔄↔️</span></h4>
                                    <p class="text-slate-500 font-medium text-sm mb-2">수신호: 양손 회전 동작</p>
                                    <p class="text-slate-600 text-sm">더 나은 앵글을 위해 위치 변경을 제안합니다.</p>
                                </div>
                                <div class="signal-card centered">
                                    <div class="signal-icon-container">
                                         <span class="text-4xl">✋🛑</span>
                                    </div>
                                    <h4 class="text-lg font-bold mb-1">긴급 중단</h4>
                                    <p class="text-slate-500 font-medium text-sm mb-2">수신호: 손바닥 정면 표시</p>
                                    <p class="text-slate-600 text-sm">모든 촬영을 즉시 중단해야 할 때 사용합니다.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div id="detail-manager">
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="keyboard"></i></div><div class="detail-step-connector"></div><div class="detail-step-content"><strong>1. 데이터 생성 (전용 앱 사용)</strong><p>전용 앱을 통해 아래 순서대로 핸드 정보를 기록하고 최종 전송합니다. (날짜는 자동으로 처리됩니다.)</p><div class="mt-4 pt-4 border-t"><h4 class="font-bold text-lg text-slate-700 mb-2">A. 핸드 기본 정보 설정</h4><div class="space-y-3"><div class="sub-step-card"><p><strong>1. 테이블 선택:</strong> <br> 시트에 저장된 테이블 목록에서 핸드가 진행된 테이블을 선택합니다. <br><em>(예: `T02` 선택)</em></p></div><div class="sub-step-card"><p><strong>2. 플레이어 선택 및 카드 입력:</strong> <br> 자동으로 호출된 목록에서 핸드에 참여한 플레이어를 순서대로 선택하고, 쇼다운 시 확인된 홀 카드를 직접 입력합니다.<br><em>(예: 'Jaewon' 선택 후 `10h 9d` 입력)</em></p></div></div></div><div class="mt-4 pt-4 border-t"><h4 class="font-bold text-lg text-slate-700 mb-2">B. 액션 및 보드 기록</h4><div class="space-y-3"><div class="sub-step-card"><p><strong>3. 스트릿별 액션 기록:</strong> <br> Preflop부터 River까지, 핸드 진행 상황에 따라 모든 액션(Bet, Call, Fold 등)과 커뮤니티 카드를 순서대로 정확히 기록합니다. <br><em>(예: Jaewon `BET 5000`)</em></p></div></div></div><div class="mt-4 pt-4 border-t"><h4 class="font-bold text-lg text-slate-700 mb-2">C. 핸드 마무리 및 전송</h4><div class="space-y-3"><div class="sub-step-card"><p><strong>4. 최종 승자 선택:</strong> <br> 핸드가 종료되면 최종 승자를 선택하면, 팟 분배가 자동으로 처리됩니다. <br><em>(예: 'Jaewon' 선택)</em></p></div><div class="sub-step-card"><p><strong>5. 촬영 정보 입력 (최종 단계):</strong> <br> 카메라 맨에게 전달받은 <strong>영상 파일명</strong>을 입력하고, 그래픽이 시작되어야 할 <strong>스트릿 버튼</strong>(Preflop/Flop/Turn/River)을 클릭하여 시작 지점을 표시합니다. <br><em>(예: 파일명 <code class="bg-slate-200 text-slate-800 px-1 py-0.5 rounded">camAa0001</code>, 시작 지점 `Flop` 클릭)</em></p></div><div class="sub-step-card"><p><strong>6. 시트 전송:</strong> <br> 모든 정보 입력이 완료되었는지 최종 확인 후, '시트에 전송' 버튼을 눌러 데이터를 마스터 구글 시트로 전송합니다.</p></div></div></div><div class="mt-6 max-w-xs mx-auto bg-slate-800 rounded-[2.5rem] border-[14px] border-slate-800 shadow-xl"><div class="w-full h-full bg-slate-800 rounded-[2rem] overflow-hidden"><img src="https://github.com/garimto81/virtual_table_plan/blob/main/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202025-09-11%20125445.png?raw=true" class="w-full h-auto" alt="Data entry app interface on a smartphone"></div></div></div></div>
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="server"></i></div><div class="detail-step-content"><strong>2. 메모리 카드 관리 (상황별)</strong><div class="sub-step-card mt-0"><strong>Case 1. 후반 편집자가 현장에 있는 경우:</strong><p>메모리 카드 순환 및 관리는 <span class="font-bold text-emerald-700">카메라 맨</span>이 직접 처리하므로, 데이터 매니저는 카드 전달 업무를 수행하지 않습니다.</p></div><div class="sub-step-card mt-4"><strong>Case 2. 후반 편집자가 본사에 있는 경우:</strong><p>카메라 맨으로부터 메모리 카드를 수령하여 데이터 스테이션으로 이동, 데이터 전송을 완료한 후 다시 카메라 맨에게 안전하게 반환하는 역할을 수행합니다.</p><div class="mt-4 p-4 bg-slate-100 rounded-lg border border-slate-200"><h4 class="font-bold text-center mb-6 text-slate-800">데이터 매니저 동선</h4><div class="flex items-center justify-center w-full py-4"><div class="flex flex-col items-center text-center w-28"><i data-lucide="camera" class="w-10 h-10 text-slate-700"></i><p class="font-bold text-sm mt-1">카메라 맨</p></div><div class="flex-1 flex flex-col items-center text-center px-2"><p class="text-xs font-semibold text-slate-500 -mb-1 whitespace-nowrap">① 카드 수령</p><i data-lucide="arrow-right" class="w-8 h-8 text-slate-400"></i><i data-lucide="arrow-left" class="w-8 h-8 text-slate-400 mt-2"></i><p class="text-xs font-semibold text-slate-500 -mt-1 whitespace-nowrap">④ 카드 반환</p></div><div class="flex flex-col items-center text-center w-28"><i data-lucide="user" class="w-10 h-10 text-emerald-600"></i><p class="font-bold text-sm mt-1">데이터 매니저</p></div><div class="flex-1 flex flex-col items-center text-center px-2"><p class="text-xs font-semibold text-slate-500 -mb-1 whitespace-nowrap">② 데이터 전송</p><i data-lucide="arrow-right" class="w-8 h-8 text-slate-400"></i><i data-lucide="arrow-left" class="w-8 h-8 text-slate-400 mt-2"></i><p class="text-xs font-semibold text-slate-500 -mt-1 whitespace-nowrap">③ 현장 복귀</p></div><div class="flex flex-col items-center text-center w-28"><i data-lucide="laptop" class="w-10 h-10 text-slate-700"></i><p class="font-bold text-sm mt-1">데이터 스테이션</p></div></div><div class="mt-4 pt-4 border-t border-slate-300"><h5 class="font-bold text-center mb-4 text-slate-700">파일 관리 프로세스</h5><ol class="space-y-3 text-sm"><li class="flex items-center"><span class="flex items-center justify-center w-6 h-6 rounded-full bg-slate-200 text-slate-600 font-bold text-xs mr-3 shrink-0">1</span><i data-lucide="folder-plus" class="w-5 h-5 text-sky-600 mr-2 shrink-0"></i><span>PC에 각 <i data-lucide="camera" class="inline-block w-4 h-4 text-slate-500 mx-1"></i>카메라 별 폴더 생성</span></li><li class="flex items-center"><span class="flex items-center justify-center w-6 h-6 rounded-full bg-slate-200 text-slate-600 font-bold text-xs mr-3 shrink-0">2</span><i data-lucide="file-input" class="w-5 h-5 text-sky-600 mr-2 shrink-0"></i><span>해당 폴더에 영상 저장</span></li><li class="flex items-center"><span class="flex items-center justify-center w-6 h-6 rounded-full bg-slate-200 text-slate-600 font-bold text-xs mr-3 shrink-0">3</span><i data-lucide="cloud" class="w-5 h-5 text-green-600 mr-2 shrink-0"></i><span>구글 드라이브에 동일한 폴더 구조 생성</span></li><li class="flex items-center"><span class="flex items-center justify-center w-6 h-6 rounded-full bg-slate-200 text-slate-600 font-bold text-xs mr-3 shrink-0">4</span><i data-lucide="upload-cloud" class="w-5 h-5 text-green-600 mr-2 shrink-0"></i><span>각 폴더에 영상 전송</span></li><li class="flex items-center"><span class="flex items-center justify-center w-6 h-6 rounded-full bg-slate-200 text-slate-600 font-bold text-xs mr-3 shrink-0">5</span><i data-lucide="arrow-left-circle" class="w-5 h-5 text-slate-600 mr-2 shrink-0"></i><span>메모리 카드와 함께 현장 복귀</span></li></ol></div></div></div></div></div>
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="users"></i></div><div class="detail-step-content"><strong>3. 인원 편제</strong><div class="sub-step-card"><strong>담당자: </strong><span>Henry</span></div></div></div>
        </div>
        <div id="detail-editor">
             <div class="detail-step"><div class="detail-step-icon"><i data-lucide="package"></i></div><div class="detail-step-connector"></div><div class="detail-step-content"><strong>0. GFX 패키지 적용</strong><p>프리 프로덕션 단계에서 전달받은 그래픽 패키지를 GFX 시스템에 적용합니다.</p></div></div>
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="file-check-2"></i></div><div class="detail-step-connector"></div><div class="detail-step-content"><strong>1. 교차 검증</strong><p>수령한 영상과 앱의 데이터를 비교하여 플레이어, 핸드 정보, 보드 카드 등이 모두 일치하는지 면밀히 확인합니다.</p><img src="https://github.com/garimto81/virtual_table_plan/blob/main/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202025-09-11%20125445.png?raw=true" alt="데이터 교차 검증 예시" class="w-full mt-4 border border-slate-200"><div class="sub-step-card contingency-plan mt-4"><strong>핸드 번호와 영상 불일치 시:</strong><p>해당 영상을 데이터 없이 작업할 수 있는 경우(예: 스토리텔링용)에는 작업을 진행하고, 그렇지 않은 경우 폐기합니다.</p></div></div></div>
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="clapperboard"></i></div><div class="detail-step-connector"></div><div class="detail-step-content"><strong>2. GFX 작업</strong><ul class="list-disc space-y-2"><li>핸드에서 지정된 스트릿까지는 첵콜로 신속하게 넘어갑니다 (단, 팟사이즈는 신경써서 조절합니다).</li><li>핸드 시작 전, 무작위 포지션의 두 플레이어 정보와 버튼 위치만 먼저 정합니다.</li><li>앱의 위쪽에 있는 선수가 액션이 먼저 진행됩니다.</li></ul><div class="mt-4 max-w-xs mx-auto shadow-xl"><div class="w-full h-full bg-slate-800 overflow-hidden"><img src="https://github.com/garimto81/virtual_table_plan/blob/main/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202025-09-01%20224608.png?raw=true" class="w-full h-auto" alt="앱 정보 확인 예시"></div></div></div></div>
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="film"></i></div><div class="detail-step-connector"></div><div class="detail-step-content"><strong>3. 편집 작업</strong><div class="space-y-2"><p><strong>- 그래픽 완성 및 결합:</strong> 데이터가 적용된 Poker UI 그래픽을 완성하고, 해당 그래픽을 촬영 영상 위에 결합(오버레이)합니다.</p><p><strong>- 컷 편집:</strong> 불필요한 부분을 잘라내고, 인/아웃점 가이드를 참고하여 영상의 흐름을 다듬습니다.</p></div><div class="w-full h-full bg-slate-800 overflow-hidden"><img src="https://github.com/garimto81/virtual_table_plan/blob/main/%EC%8A%A4%ED%81%AC%EB%A6%B0%EC%83%B7%202025-09-01%20225035.png?raw=true" class="w-full h-auto" alt="앱 정보 확인 예시"></div></div></div>
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="folder-cog"></i></div><div class="detail-step-connector"></div><div class="detail-step-content"><strong>4. 폴더 규칙</strong><p>효율적인 자산 관리를 위해 아래 규칙에 따라 폴더와 파일명을 생성합니다.</p><div class="space-y-3 mt-4"><div class="sub-step-card"><p class="font-semibold text-slate-700 text-sm">대 카테고리:</p><p class="text-sm mt-1 text-slate-600">(날짜)_(이벤트)_(이벤트날짜)</p><p class="mt-2 text-xs"><strong>예시:</strong> <code class="bg-slate-200 text-slate-800 px-2 py-1 rounded">250911_WPL_D1</code></p></div><div class="sub-step-card"><p class="font-semibold text-slate-700 text-sm">소 카테고리:</p><p class="text-sm mt-1 text-slate-600">(VT/SOFT)(번호)_(콘텐츠 내용)</p><p class="mt-2 text-xs"><strong>예시:</strong> <code class="bg-slate-200 text-slate-800 px-2 py-1 rounded">VT001_JaewonPot</code></p><div class="mt-3 pt-3 border-t border-slate-200"><p class="text-sm text-slate-600"><span class="font-bold text-red-600">중요:</span> 번호는 VT/SOFT 구분 없이 연속적으로 부여합니다.</p><p class="mt-2 text-xs"><strong>연속 번호 예시:</strong></p><div class="text-xs mt-1 space-y-1"><p><code class="bg-slate-200 text-slate-800 px-2 py-1 rounded">VT001_...</code></p><p><code class="bg-slate-200 text-slate-800 px-2 py-1 rounded">VT002_...</code></p><p><code class="bg-slate-200 text-slate-800 px-2 py-1 rounded">SOFT003_...</code></p><p><code class="bg-slate-200 text-slate-800 px-2 py-1 rounded">VT004_...</code></p></div></div></div><div class="sub-step-card"><p class="font-semibold text-slate-700 text-sm">파일명 규칙 (폴더명과 동일):</p><ul class="list-disc list-inside mt-2 space-y-1 text-sm text-slate-600"><li><strong>버추얼 테이블:</strong> VT(번호)_승자_핸드_패자_핸드</li><p class="mt-1 text-xs pl-4"><strong>예시:</strong> <code class="bg-slate-200 text-slate-800 px-2 py-1 rounded">VT001_Jaewon_AQs_Sua_KK.mp4</code></p><li><strong>소프트 콘텐츠:</strong> SOFT(번호)_(콘텐츠 내용)</li><p class="mt-1 text-xs pl-4"><strong>예시:</strong> <code class="bg-slate-200 text-slate-800 px-2 py-1 rounded">SOFT001_JaewonInterview.mp4</code></p></ul></div></div></div></div>
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="users"></i></div><div class="detail-step-content"><strong>5. 인원 편제</strong><div class="sub-step-card"><strong>담당자: </strong><span>Aiden</span></div></div></div>
        </div>
        <div id="detail-designer">
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="pencil-ruler"></i></div><div class="detail-step-connector"></div><div class="detail-step-content"><strong>1. 에셋 제작</strong><p>방송 컨셉에 맞춰 카드, 칩, 선수 정보창, 베팅 금액 등 Poker UI 그래픽에 필요한 모든 시각적 에셋을 디자인하고 제작합니다.</p></div></div>
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="layout-template"></i></div><div class="detail-step-connector"></div><div class="detail-step-content"><strong>2. 시스템 설계</strong><p>후반 편집자가 구글 시트의 데이터를 손쉽게 연동하고 수정할 수 있도록 에프터이펙트 등의 툴을 사용하여 모션 그래픽 템플릿(MOGRT) 또는 유사한 형태의 시스템을 설계합니다.</p></div></div>
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="package-check"></i></div><div class="detail-step-content"><strong>3. 패키지 전달</strong><p>완성된 모든 그래픽 에셋과 템플릿을 하나의 패키지로 정리하여, 프리 프로덕션 단계에서 <strong>후반 편집자</strong>에게 전달합니다.</p></div></div>
             <div class="detail-step"><div class="detail-step-icon"><i data-lucide="users"></i></div><div class="detail-step-content"><strong>4. 인원 편제</strong><div class="sub-step-card"><strong>담당: </strong><span>편집팀</span></div></div></div>
        </div>
        <div id="detail-tech">
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="scan-line"></i></div><div class="detail-step-connector"></div><div class="detail-step-content"><strong>1. 네트워크 환경 분석</strong><p>대회 시작 전, 현장의 네트워크 상태(유선/무선 속도, 신호 강도, 안정성)를 사전에 면밀히 분석합니다.</p></div></div>
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="router"></i></div><div class="detail-step-connector"></div><div class="detail-step-content"><strong>2. 전용 라인 확보</strong><p>자동화 워크플로우(클라우드 업로드 등)에 필요한 최소 속도인 10Mbps 이상을 안정적으로 보장하는 유/무선 네트워크 환경을 구축합니다. 필요시 별도의 통신사와 협의하여 전용 회선을 설치합니다.</p></div></div>
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="share-2"></i></div><div class="detail-step-content"><strong>3. 정보 공유 및 지원</strong><p>구축된 네트워크 정보(Wi-Fi 이름/비밀번호, 유선 포트 위치 등)를 <strong>현장 PD팀</strong>에 명확히 공유하고, 운영 중 발생할 수 있는 네트워크 문제를 지속적으로 모니터링하고 지원합니다.</p></div></div>
            <div class="detail-step"><div class="detail-step-icon"><i data-lucide="users"></i></div><div class="detail-step-content"><strong>4. 인원 편제</strong><div class="sub-step-card"><strong>담당자: </strong><span>Dean</span></div></div></div>
        </div>
    </div>

    <script>
        lucide.createIcons();
        
        function setupSmoothScrolling() {
             const smoothScrollLinks = document.querySelectorAll('a[href^="#"]');
            for (const link of smoothScrollLinks) {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    const targetId = this.getAttribute('href');
                    const targetElement = document.querySelector(targetId);
                    if (targetElement) {
                        targetElement.scrollIntoView({ behavior: 'smooth' });
                    }
                });
            }
        }

        function setupHoverPopups() {
            const groups = document.querySelectorAll('.group');
            groups.forEach(group => {
                const popup = group.querySelector('.workflow-popup');
                if (!popup) return;
                group.addEventListener('mouseenter', () => {
                    const cardRect = group.getBoundingClientRect();
                    const popupRect = popup.getBoundingClientRect();
                    const viewportWidth = window.innerWidth;
                    const margin = 16;
                    let idealLeft = cardRect.left + (cardRect.width / 2) - (popupRect.width / 2);
                    if (idealLeft < margin) { idealLeft = margin; }
                    if (idealLeft + popupRect.width > viewportWidth - margin) {
                        idealLeft = viewportWidth - popupRect.width - margin;
                    }
                    popup.style.left = `${idealLeft - cardRect.left}px`;
                });
            });
        }

        function setupRoleModal() {
            const roleModal = document.getElementById('workflow-modal');
            const roleModalTitle = document.getElementById('modal-title');
            const roleModalBody = document.getElementById('modal-body');
            const roleModalCloseBtn = document.getElementById('modal-close');
            const roleCards = document.querySelectorAll('[data-role]');

            function openRoleModal(role) {
                const detailContent = document.getElementById(`detail-${role}`);
                const cardTitle = document.querySelector(`[data-role=${role}] .step-card h3`).textContent;
                
                if (detailContent && roleModalTitle && roleModalBody) {
                    roleModalTitle.textContent = `${cardTitle} 상세 워크플로우`;
                    roleModalBody.innerHTML = detailContent.innerHTML;
                    lucide.createIcons();
                    roleModal.classList.add('active');
                    document.body.style.overflow = 'hidden';
                }
            }

            function closeRoleModal() {
                if(roleModal) {
                    roleModal.classList.remove('active');
                    document.body.style.overflow = '';
                }
            }

            roleCards.forEach(card => {
                card.addEventListener('click', () => {
                    openRoleModal(card.dataset.role);
                });
            });

            if(roleModalCloseBtn) roleModalCloseBtn.addEventListener('click', closeRoleModal);
            if(roleModal) roleModal.addEventListener('click', (e) => {
                if (e.target === roleModal) closeRoleModal();
            });
        }

        function setupVideoModal() {
            const videoModal = document.getElementById('video-modal');
            const videoModalTitle = document.getElementById('video-modal-title');
            const videoModalBody = document.getElementById('video-modal-body');
            const videoModalCloseBtn = document.getElementById('video-modal-close');
            const contentCards = document.querySelectorAll('.content-card');

            const videoSamples = {
                'big-hand': {
                    title: '빅 핸드 리뷰 샘플 영상',
                    videos: ['https://www.youtube.com/embed/7kJesbsSj-4', 'https://www.youtube.com/embed/3-5hO1K2Bec'],
                    annotations: ['샘플 영상 (2 Cam)', '샘플 영상 (2 Cam)']
                },
                'update': {
                    title: '플레이어 업데이트 샘플 영상',
                    videos: ['https://www.youtube.com/embed/ZSCtHivfmIw'],
                    annotations: ['샘플 영상 (1 Cam)']
                },
                'elimination': {
                    title: '플레이어 탈락 샘플 영상',
                    videos: [],
                    annotations: []
                }
            };

            function openVideoModal(type) {
                const contentData = videoSamples[type];
                if (!contentData || !videoModalTitle || !videoModalBody) return;

                videoModalTitle.textContent = contentData.title;
                videoModalBody.innerHTML = '';

                if (contentData.videos.length > 0) {
                    contentData.videos.forEach((videoSrc, index) => {
                        const container = document.createElement('div');
                        const videoWrapper = document.createElement('div');
                        videoWrapper.className = 'video-wrapper';
                        const iframe = document.createElement('iframe');
                        iframe.src = videoSrc;
                        iframe.title = "YouTube video player";
                        iframe.frameborder = "0";
                        iframe.allow = "accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture";
                        iframe.allowfullscreen = true;
                        videoWrapper.appendChild(iframe);
                        container.appendChild(videoWrapper);

                        if(contentData.annotations && contentData.annotations[index]) {
                            const annotation = document.createElement('p');
                            annotation.className = 'text-center text-sm text-slate-500 mt-2 mb-6';
                            annotation.textContent = contentData.annotations[index];
                            container.appendChild(annotation);
                        }
                        videoModalBody.appendChild(container);
                    });
                } else {
                    videoModalBody.innerHTML = '<p class="text-center text-gray-500">샘플 영상이 준비되지 않았습니다.</p>';
                }
                
                videoModal.classList.add('active');
                document.body.style.overflow = 'hidden';
            }

            function closeVideoModal() {
                if (videoModal && videoModalBody) {
                    videoModal.classList.remove('active');
                    videoModalBody.innerHTML = '';
                    document.body.style.overflow = '';
                }
            }

            contentCards.forEach(card => {
                card.addEventListener('click', () => {
                    openVideoModal(card.dataset.contentType);
                });
            });

            if(videoModalCloseBtn) videoModalCloseBtn.addEventListener('click', closeVideoModal);
            if(videoModal) videoModal.addEventListener('click', (e) => {
                if (e.target === videoModal) closeVideoModal();
            });
        }
        
        function setupOverviewModal() {
            const overviewModal = document.getElementById('overview-modal');
            const openBtn = document.getElementById('open-overview-modal');
            const closeBtn = document.getElementById('overview-modal-close');

            function openModal() {
                if(overviewModal) {
                    overviewModal.classList.add('active');
                    document.body.style.overflow = 'hidden';
                }
            }
            function closeModal() {
                if(overviewModal) {
                    overviewModal.classList.remove('active');
                    document.body.style.overflow = '';
                }
            }

            if(openBtn) openBtn.addEventListener('click', openModal);
            if(closeBtn) closeBtn.addEventListener('click', closeModal);
            if(overviewModal) overviewModal.addEventListener('click', (e) => {
                if (e.target === overviewModal) closeModal();
            });
        }

        function setupSlidesModal() {
            const slidesModal = document.getElementById('slides-modal');
            const openBtn = document.getElementById('open-slides-modal');
            const closeBtn = document.getElementById('slides-modal-close');
            const iframe = slidesModal ? slidesModal.querySelector('iframe') : null;
            const slidesUrl = 'https://docs.google.com/presentation/d/1NvjvXhAkY6E0lYjYzShtDSgnVK81pxWMB9CGjZsr7jU/embed?start=true&loop=false&delayms=3000';

            function openModal() {
                if(slidesModal && iframe) {
                    iframe.src = slidesUrl;
                    slidesModal.classList.add('active');
                    document.body.style.overflow = 'hidden';
                }
            }
            function closeModal() {
                if(slidesModal && iframe) {
                    slidesModal.classList.remove('active');
                    iframe.src = ''; // Stop presentation
                    document.body.style.overflow = '';
                }
            }

            if(openBtn) openBtn.addEventListener('click', openModal);
            if(closeBtn) closeBtn.addEventListener('click', closeModal);
            if(slidesModal) slidesModal.addEventListener('click', (e) => {
                if (e.target === slidesModal) closeModal();
            });
        }

        document.addEventListener('DOMContentLoaded', function () {
            setupSmoothScrolling();
            setupHoverPopups();
            setupRoleModal();
            setupVideoModal();
            setupOverviewModal();
            setupSlidesModal();
        });
    </script>
</body>
</html>

